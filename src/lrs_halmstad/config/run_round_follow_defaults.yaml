leader_estimator:
  ros__parameters:
    use_sim_time: true
    event_topic: /coord/events
    out_topic: /coord/leader_estimate
    status_topic: /coord/leader_estimate_status
    publish_status: true
    conf_threshold: 0.12
    imgsz: 640
    est_hz: 5.0
    image_timeout_s: 2.5
    uav_pose_timeout_s: 6.0
    constant_range_m: 5.0
    smooth_alpha: 0.18
    xy_smooth_alpha: 0.25
    max_hold_frames: 30
    max_hold_s: 6.0
    range_mode: const
    max_xy_jump_m: 10.0
    max_target_speed_mps: 10.0
    max_bearing_jump_deg: 45.0
    cam_pitch_offset_deg: +60.0
    target_class_name: ""
    target_class_id: -1
    cam_yaw_offset_deg: 0.0
    target_ground_z_m: 0.0
    ground_min_range_m: 2.0
    ground_max_range_m: 50.0
    ok_debounce_frames: 2
    bad_debounce_frames: 3
    bbox_continuity_weight: 0.30
    bbox_continuity_class_bonus: 0.15
    bbox_continuity_max_px: 300.0
    tracker_enable: true
    latency_comp_enable: true
    device: cpu
    publish_events: true

follow_uav:
  ros__parameters:
    use_sim_time: true
    leader_input_type: odom
    leader_pose_topic: /coord/leader_estimate
    tick_hz: 5.0
    d_target: 5.0
    d_max: 8.0
    z_alt: 5.0
    seed_uav_cmd_on_start: true
    uav_start_x: -2.0
    uav_start_y: 0.0
    uav_start_yaw_deg: 0.0
    pose_timeout_s: 3.0
    min_cmd_period_s: 0.10
    smooth_alpha: 0.25
    max_step_m_per_tick: 0.30
    cmd_xy_deadband_m: 0.10
    max_yaw_step_rad_per_tick: 0.12
    leader_status_topic: /coord/leader_estimate_status
    quality_scale_enable: true
    quality_status_timeout_s: 3.0
    quality_conf_min: 0.15
    quality_conf_good: 0.45
    quality_latency_ref_ms: 300.0
    quality_min_step_scale: 0.30
    quality_hold_step_scale: 0.08
    quality_deadband_boost_m: 0.12
    state_machine_enable: true
    state_ok_debounce_ticks: 2
    state_bad_debounce_ticks: 2
    traj_enable: true
    traj_rel_frame_enable: true
    traj_rel_smooth_alpha: 0.30
    traj_pos_gain: 1.6
    traj_max_speed_mps: 1.0
    traj_max_accel_mps2: 1.5
    traj_quality_min_scale: 0.40
    traj_reset_on_yaw_jump_rad: 0.7
    yaw_deadband_rad: 0.08
    yaw_update_xy_gate_m: 0.10
    estimate_heading_from_motion_enable: true
    estimate_heading_alpha: 0.35
    estimate_heading_min_speed_mps: 0.15
    estimate_heading_max_dt_s: 1.0
    event_topic: /coord/events
    publish_events: true

ugv_motion_driver:
  ros__parameters:
    use_sim_time: true
    cmd_topic: /a201_0000/cmd_vel
    start_delay_s: 0.0
    ready_check_enable: true
    ready_require_cmd_subscriber: true
    ready_require_odom_flow: true
    ready_odom_topic: /a201_0000/platform/odom
    ready_timeout_s: 8.0
    ready_poll_hz: 10.0
    ready_settle_s: 1.0
    motion_profile: default
    turn_pattern: alternate
    forward_speed: 0.75
    forward_time_s: 0.90
    turn_speed: 0.55
    turn_time_s: 0.65
    cycles: 120
    pub_rate_hz: 12.0
    startup_pad_s: 1.5
    variation_enable: true
    variation_amplitude: 0.08
    pause_every_n: 0
    pause_time_s: 0.0
    obstacle_avoid_enable: true
    scan_topic: /a201_0000/sensors/lidar3d_0/scan
    scan_timeout_s: 0.75
    stop_on_scan_timeout: false
    front_sector_deg: 70.0
    side_sector_min_deg: 20.0
    side_sector_max_deg: 100.0
    stop_distance_m: 1.40
    clear_distance_m: 2.00
    avoid_turn_speed: 0.80
    min_valid_scan_points: 3
